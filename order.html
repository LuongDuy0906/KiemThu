<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8" />
    <title>Qu·∫£n L√Ω H√≥a ƒê∆°n</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS d√πng chung -->
    <link rel="stylesheet" href="src/assets/css/styles.css">
    <link rel="stylesheet" href="src/assets/css/order.css">
</head>

<body>

<h2>üßæ Qu·∫£n l√Ω H√≥a ƒê∆°n (Offline)</h2>

<div class="top-bar" style="display:flex;justify-content:space-between;">
    <button class="btn btn-primary" onclick="openAddOrder()">+ T·∫°o H√≥a ƒê∆°n</button>

    <div class="search-wrapper">
        <span class="search-icon">üîç</span>
        <input id="searchInput" class="search-input" placeholder="T√¨m ƒë∆°n h√†ng..." oninput="applySearch()">
    </div>
</div>

<!-- =================== TABLE =================== -->
<table id="ordersTable">
    <thead>
        <tr>
            <th>M√£ Hƒê</th>
            <th>Kh√°ch h√†ng</th>
            <th>SƒêT</th>
            <th>ƒê·ªãa ch·ªâ</th>
            <th>Ng√†y l·∫≠p</th>
            <th>Thanh to√°n</th>
            <th>T·ªïng ti·ªÅn</th>
            <th>H√†nh ƒë·ªông</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<div class="pagination" id="pagination"></div>

<!-- ========== POPUP ADD/EDIT ORDER ========== -->
<div class="popup" id="popupOrder">
    <div class="popup-content big-popup">

        <h3 id="orderTitle">T·∫°o H√≥a ƒê∆°n</h3>

        <div class="row">
            <div class="col">
                <label>Kh√°ch h√†ng</label>
                <select id="order_customer" class="input">
                    <option value="">-- Ch·ªçn KH --</option>
                </select>
            </div>

            <div class="col">
                <label>Ng√†y l·∫≠p</label>
                <input id="order_date" type="date" class="input">
            </div>
        </div>

        <div class="row">
            <div class="col">
                <label>T√™n kh√°ch</label>
                <input id="order_name" class="input">
            </div>

            <div class="col small">
                <label>SƒêT</label>
                <input id="order_phone" class="input">
            </div>

            <div class="col">
                <label>Email</label>
                <input id="order_email" class="input">
            </div>
        </div>

        <div class="row">
            <div class="col full">
                <label>ƒê·ªãa ch·ªâ giao h√†ng</label>
                <input id="order_address" class="input">
            </div>
        </div>

        <div class="row">
            <div class="col">
                <label>Thanh to√°n</label>
                <select id="order_payment" class="input">
                    <option value="COD">COD</option>
                    <option value="Bank">Bank Transfer</option>
                    <option value="Card">Credit Card</option>
                </select>
            </div>

            <div class="col">
                <label>T·ªïng ti·ªÅn</label>
                <input id="order_total" class="input" readonly>
            </div>

            <div class="col">
                <label>S·∫£n ph·∫©m</label>
                <button class="btn btn-info" onclick="openProductPopup()">Ch·ªçn SP</button>
            </div>
        </div>

        <table class="table-mini" id="orderItemsTable">
            <thead>
                <tr>
                    <th>S·∫£n ph·∫©m</th>
                    <th>Gi√°</th>
                    <th>SL</th>
                    <th>T·ªïng</th>
                    <th></th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <div class="popup-footer">
            <button class="btn btn-primary" onclick="saveOrder()">L∆∞u</button>
            <button class="btn btn-secondary" onclick="closePopupOrder()">ƒê√≥ng</button>
        </div>
    </div>
</div>

<!-- ========== POPUP PRODUCT PICKER ========== -->
<div class="popup" id="productPopup">
    <div class="popup-content">

        <h3>Ch·ªçn S·∫£n Ph·∫©m</h3>

        <table class="table-mini">
            <thead>
                <tr>
                    <th>Ch·ªçn</th>
                    <th>T√™n</th>
                    <th>Gi√°</th>
                    <th>SL</th>
                </tr>
            </thead>
            <tbody id="productPickerBody"></tbody>
        </table>

        <div class="popup-footer">
            <button class="btn btn-primary" onclick="addSelectedProducts()">Th√™m</button>
            <button class="btn btn-secondary" onclick="closeProductPopup()">ƒê√≥ng</button>
        </div>

    </div>
</div>

<!-- ========== POPUP VIEW ORDER ========== -->
<div class="popup" id="popupView">
    <div class="popup-content big-popup">
        <h3>Chi ti·∫øt h√≥a ƒë∆°n</h3>
        <div id="viewBody"></div>

        <div class="popup-footer">
            <button class="btn btn-secondary" onclick="closePopupView()">ƒê√≥ng</button>
        </div>
    </div>
</div>

<!-- ===================== SCRIPT ===================== -->
<script src="src/assets/js/order.js"></script>

</body>
</html>
